(function(t){function n(n){for(var o,r,c=n[0],s=n[1],u=n[2],p=0,f=[];p<c.length;p++)r=c[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);l&&l(n);while(f.length)f.shift()();return a.push.apply(a,u||[]),e()}function e(){for(var t,n=0;n<a.length;n++){for(var e=a[n],o=!0,c=1;c<e.length;c++){var s=e[c];0!==i[s]&&(o=!1)}o&&(a.splice(n--,1),t=r(r.s=e[0]))}return t}var o={},i={app:0},a=[];function r(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=o,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=n,c=c.slice();for(var u=0;u<c.length;u++)n(c[u]);var l=s;a.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var o=e("64a9"),i=e.n(o);i.a},"286f":function(t,n,e){},"325b":function(t,n,e){"use strict";var o=e("286f"),i=e.n(o);i.a},"56b0":function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var o=e("2b0e"),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("NavigationBar"),e("h1",[t._v(" "+t._s(t.location)+" ")]),t.location?t._e():e("div",[e("Splash")],1),t.location?e("div",[e("p",[t._v(" "+t._s(t.posts)+" ")])]):t._e()],1)},a=[],r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",[e("h1",[t._v(t._s(t.appname))])])},c=[],s={name:"NavigationBar",data:function(){return{appname:"YAPP"}}},u=s,l=(e("325b"),e("2877")),p=Object(l["a"])(u,r,c,!1,null,null,null),f=p.exports,d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"80%",margin:"auto","max-width":"500px"}},[e("br"),e("p",[t._v("Please enter a location to view posts")]),e("form",[e("b-form-input",{attrs:{state:t.valid,placeholder:"zip code","on-submit":"return false;"},on:{submit:t.formSubmit,keyup:t.checkKey},model:{value:t.zip,callback:function(n){t.zip=n},expression:"zip"}}),e("br"),e("b-button",{attrs:{pill:""},on:{click:t.formSubmit}},[t._v("\n        Search\n      ")])],1)])},h=[],m={name:"Splash",data:function(){return{zip:null,valid:null}},watch:{zip:function(){this.valid=!(5!=this.zip.length||!/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(this.zip))||null},location:function(){}},mounted:function(){this.getLocation()},methods:{checkKey:function(t){"Enter"==t.key&&formSubmit()},formSubmit:function(){this.zip?this.$store.commit("setLocation",this.zip):this.zip=this.getLocation(),this.zip||alert("you must provide a zip code or enable location services to continue")},getLocation:function(){var t=this,n={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(function(n){console.log(n);var e=n.coords;console.log("Your current position is:"),console.log("Latitude : ".concat(e.latitude)),console.log("Longitude: ".concat(e.longitude)),console.log("More or less ".concat(e.accuracy," meters.")),t.$http.get("/getzip",{withCredentials:!0,params:{lat:e.latitude,long:e.longitude}}).then(function(n){console.log(n.data),t.$store.commit("setLocation",n.data)}).catch(function(t){console.log(t)})},function(t){console.warn("ERROR(".concat(t.code,"): ").concat(t.message))},n)}}},b=m,v=(e("a66b"),Object(l["a"])(b,d,h,!1,null,"6d288a40",null)),g=v.exports,y={title:"YAPP",name:"App",components:{NavigationBar:f,Splash:g},data:function(){return{posts:"no posts"}},computed:{location:function(){return this.$store.getters.location}},watch:{location:function(){this.posts=this.$store.getters.posts}}},w=y,_=(e("034f"),Object(l["a"])(w,i,a,!1,null,null,null)),P=_.exports,O=e("2f62"),S=e("5f5b"),z=(e("ab8b"),e("2b27")),x=e.n(z),$=e("bc3a"),j=e.n($);var k=e("8c4f");o["default"].use(k["a"]);new k["a"]({mode:"history",routes:[{path:"/",name:"Login",component:g,title:"YAPP"},{path:"/*",name:"Yikes",title:"Yikes",component:P}]});o["default"].config.productionTip=!1,o["default"].use(S["a"]),o["default"].use(x.a),o["default"].use(O["a"]),x.a.config("7d"),x.a.set("theme","default"),x.a.set("hover-time","1s");var L=new O["a"].Store({state:{location:"",posts:[]},getters:{location:function(t){return t.location},posts:function(t){return t.posts}},mutations:{setLocation:function(t,n){t.location=n},setPosts:function(t,n){t.posts.push(n)}}}),A=j.a.create({crossDomain:!0});o["default"].prototype.$http=A,L.watch(function(t){return t.location},function(t,n){console.log("New Location: "+t),o["default"].prototype.$http.get("/db").then(function(t){L.commit("setPosts",t)})}),new o["default"]({store:L,render:function(t){return t(P)}}).$mount("#app")},"64a9":function(t,n,e){},a66b:function(t,n,e){"use strict";var o=e("56b0"),i=e.n(o);i.a}});
//# sourceMappingURL=app.09715362.js.map