(ns ducts.cookie-util
  (:require [clojure.string :as str]))

(defn get-cookie-map [cookie-string]
  (loop [rest-vec (map #(str/trim %) (str/split cookie-string #";"))
         cmap nil]
    (if (not-empty rest-vec)
      (let [cookie (first rest-vec)
            spl (str/split cookie #"=")]
        (recur (rest rest-vec) (assoc cmap (get spl 0) (get spl 1))))
      cmap)))
        
